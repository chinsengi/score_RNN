Bootstrap: docker
From: nvcr.io/nvidia/pytorch:22.11-py3

%files
   $PWD/requirements.txt /opt
   
%environment
   export SDL_VIDEODRIVER=x11
   export LIBGL_ALWAYS_INDIRECT=1

%post
   export DEBIAN_FRONTEND=noninteractive
   
   apt-get -y update 
   apt-get install --no-install-recommends -y swig xauth build-essential libsdl2-dev python3-tk

   pip install -r /opt/requirements.txt

   rm /opt/requirements.txt
   
   unset DEBIAN_FRONTEND

